<!-- PTO Summary View -->
<div class="view-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
  <div style="display: flex; align-items: center; gap: 12px;">
    <span class="material-icons-round" style="font-size: 28px; color: var(--cfa-red);">analytics</span>
    <h2 style="margin: 0; font-size: 1.5rem; font-weight: 700;">PTO Summary</h2>
  </div>
  <button class="btn btn-outline" onclick="refreshPTOSummary()">
    <span class="material-icons-round" style="font-size: 18px;">refresh</span>
    Refresh
  </button>
</div>

<!-- Summary Stats Cards -->
<div class="summary-stats-grid" id="ptoSummaryStats">
  <div class="summary-stat-card">
    <div class="stat-icon purple">
      <span class="material-icons-round">beach_access</span>
    </div>
    <div class="stat-value" id="statTotalRequests">--</div>
    <div class="stat-label">Total Requests</div>
    <div class="stat-sublabel" id="statTotalHours">-- hours</div>
  </div>
  
  <div class="summary-stat-card">
    <div class="stat-icon orange">
      <span class="material-icons-round">pending_actions</span>
    </div>
    <div class="stat-value" id="statPendingRequests">--</div>
    <div class="stat-label">Pending</div>
    <div class="stat-sublabel" id="statPendingHours">-- hours</div>
  </div>
  
  <div class="summary-stat-card">
    <div class="stat-icon green">
      <span class="material-icons-round">check_circle</span>
    </div>
    <div class="stat-value" id="statPaidRequests">--</div>
    <div class="stat-label">Paid Out</div>
    <div class="stat-sublabel" id="statPaidHours">-- hours</div>
  </div>
  
  <div class="summary-stat-card">
    <div class="stat-icon blue">
      <span class="material-icons-round">people</span>
    </div>
    <div class="stat-value" id="statUniqueEmployees">--</div>
    <div class="stat-label">Employees</div>
    <div class="stat-sublabel" id="statAvgHours">-- avg hrs/request</div>
  </div>
</div>

<!-- Two Column Layout -->
<div class="summary-columns">
  <!-- Left: Top Employees by PTO Hours -->
  <div class="card">
    <div class="card-header">
      <span class="material-icons-round" style="color: var(--cfa-red);">leaderboard</span>
      <span style="font-weight: 600;">Top Employees by PTO Hours</span>
    </div>
    <div class="card-body" id="topEmployeesContent">
      <div class="empty-state" style="padding: 40px;">
        <span class="material-icons-round" style="font-size: 48px; color: var(--gray-300);">hourglass_empty</span>
        <p style="color: var(--gray-500);">Loading...</p>
      </div>
    </div>
  </div>
  
  <!-- Right: By Location -->
  <div class="card">
    <div class="card-header">
      <span class="material-icons-round" style="color: var(--cfa-red);">location_on</span>
      <span style="font-weight: 600;">PTO by Location</span>
    </div>
    <div class="card-body" id="byLocationContent">
      <div class="empty-state" style="padding: 40px;">
        <span class="material-icons-round" style="font-size: 48px; color: var(--gray-300);">hourglass_empty</span>
        <p style="color: var(--gray-500);">Loading...</p>
      </div>
    </div>
  </div>
</div>

<!-- Monthly Trend -->
<div class="card mb-lg">
  <div class="card-header">
    <span class="material-icons-round" style="color: var(--cfa-red);">trending_up</span>
    <span style="font-weight: 600;">Monthly Trend (Last 6 Months)</span>
  </div>
  <div class="card-body" id="monthlyTrendContent">
    <div class="empty-state" style="padding: 40px;">
      <span class="material-icons-round" style="font-size: 48px; color: var(--gray-300);">hourglass_empty</span>
      <p style="color: var(--gray-500);">Loading...</p>
    </div>
  </div>
</div>

<!-- Recent Activity -->
<div class="card">
  <div class="card-header">
    <span class="material-icons-round" style="color: var(--cfa-red);">history</span>
    <span style="font-weight: 600;">Recent Activity</span>
    <button class="btn btn-outline btn-sm" onclick="navigateTo('pto-records')" style="margin-left: auto;">
      View All Records
    </button>
  </div>
  <div class="card-body">
    <div class="table-wrapper">
      <table class="data-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Employee</th>
            <th>Location</th>
            <th class="numeric">Hours</th>
            <th>PTO Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="recentActivityBody">
          <tr><td colspan="6"><div class="empty-state small"><span class="material-icons-round">hourglass_empty</span><p>Loading...</p></div></td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
/* Summary Stats Grid */
.summary-stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin-bottom: 24px;
}

.summary-stat-card {
  background: white;
  border: 1px solid var(--gray-200);
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  transition: all 0.2s;
}

.summary-stat-card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  transform: translateY(-2px);
}

.summary-stat-card .stat-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 12px;
}

.summary-stat-card .stat-icon .material-icons-round {
  font-size: 24px;
}

.summary-stat-card .stat-icon.purple { background: #EDE9FE; color: #7C3AED; }
.summary-stat-card .stat-icon.orange { background: #FEF3C7; color: #D97706; }
.summary-stat-card .stat-icon.green { background: #D1FAE5; color: #059669; }
.summary-stat-card .stat-icon.blue { background: #DBEAFE; color: #2563EB; }

.summary-stat-card .stat-value {
  font-size: 2rem;
  font-weight: 700;
  color: var(--gray-800);
  line-height: 1.2;
}

.summary-stat-card .stat-label {
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-600);
  margin-top: 4px;
}

.summary-stat-card .stat-sublabel {
  font-size: 12px;
  color: var(--gray-500);
  margin-top: 2px;
}

/* Summary Columns */
.summary-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 24px;
}

/* Top Employee List */
.top-employee-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid var(--gray-100);
}

.top-employee-item:last-child {
  border-bottom: none;
}

.top-employee-rank {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--gray-100);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  color: var(--gray-600);
  flex-shrink: 0;
}

.top-employee-item:nth-child(1) .top-employee-rank {
  background: #FEF3C7;
  color: #D97706;
}

.top-employee-item:nth-child(2) .top-employee-rank {
  background: #E5E7EB;
  color: #6B7280;
}

.top-employee-item:nth-child(3) .top-employee-rank {
  background: #FED7AA;
  color: #C2410C;
}

.top-employee-info {
  flex: 1;
}

.top-employee-name {
  font-weight: 600;
  color: var(--gray-800);
  font-size: 14px;
}

.top-employee-location {
  font-size: 12px;
  color: var(--gray-500);
}

.top-employee-hours {
  font-size: 16px;
  font-weight: 700;
  color: var(--cfa-red);
}

.top-employee-requests {
  font-size: 11px;
  color: var(--gray-500);
}

/* Location Breakdown */
.location-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid var(--gray-100);
}

.location-item:last-child {
  border-bottom: none;
}

.location-name {
  font-weight: 600;
  color: var(--gray-800);
  font-size: 14px;
}

.location-stats {
  text-align: right;
}

.location-hours {
  font-size: 16px;
  font-weight: 700;
  color: var(--cfa-red);
}

.location-requests {
  font-size: 11px;
  color: var(--gray-500);
}

/* Monthly Trend Bar */
.monthly-trend-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 16px;
}

.month-bar-item {
  text-align: center;
}

.month-bar-container {
  height: 120px;
  background: var(--gray-50);
  border-radius: 8px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 8px;
  margin-bottom: 8px;
}

.month-bar {
  width: 60%;
  background: linear-gradient(to top, var(--cfa-red), #F87171);
  border-radius: 4px 4px 0 0;
  min-height: 4px;
  transition: height 0.5s ease;
}

.month-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--gray-600);
}

.month-value {
  font-size: 11px;
  color: var(--gray-500);
}

/* Status Badge */
.status-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
}

.status-badge.pending {
  background: #FEF3C7;
  color: #D97706;
}

.status-badge.paid {
  background: #D1FAE5;
  color: #059669;
}

/* Responsive */
@media (max-width: 1024px) {
  .summary-stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .summary-columns {
    grid-template-columns: 1fr;
  }
  
  .monthly-trend-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 600px) {
  .summary-stats-grid {
    grid-template-columns: 1fr;
  }
  
  .monthly-trend-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>

