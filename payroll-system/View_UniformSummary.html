<!-- Uniform Summary View -->
<div class="view-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
  <div style="display: flex; align-items: center; gap: 12px;">
    <span class="material-icons-round" style="font-size: 28px; color: var(--cfa-red);">checkroom</span>
    <h2 style="margin: 0; font-size: 1.5rem; font-weight: 700;">Uniform Summary</h2>
  </div>
  <button class="btn btn-outline" onclick="refreshUniformSummary()">
    <span class="material-icons-round" style="font-size: 18px;">refresh</span>
    Refresh
  </button>
</div>

<!-- Summary Stats Cards -->
<div class="uniform-stats-grid" id="uniformSummaryStats">
  <div class="uniform-stat-card">
    <div class="stat-icon blue">
      <span class="material-icons-round">shopping_bag</span>
    </div>
    <div class="stat-value" id="uniStatTotalOrders">--</div>
    <div class="stat-label">Total Orders</div>
    <div class="stat-sublabel"><span id="uniStatActiveOrders">--</span> active / <span id="uniStatCompletedOrders">--</span> completed</div>
  </div>
  
  <div class="uniform-stat-card">
    <div class="stat-icon green">
      <span class="material-icons-round">attach_money</span>
    </div>
    <div class="stat-value" id="uniStatTotalRevenue">$--</div>
    <div class="stat-label">Total Revenue</div>
    <div class="stat-sublabel" id="uniStatRevenueDetail">-- collected</div>
  </div>
  
  <div class="uniform-stat-card">
    <div class="stat-icon orange">
      <span class="material-icons-round">pending</span>
    </div>
    <div class="stat-value" id="uniStatOutstanding">$--</div>
    <div class="stat-label">Outstanding</div>
    <div class="stat-sublabel">Remaining to collect</div>
  </div>
  
  <div class="uniform-stat-card">
    <div class="stat-icon purple">
      <span class="material-icons-round">people</span>
    </div>
    <div class="stat-value" id="uniStatEmployees">--</div>
    <div class="stat-label">Employees</div>
    <div class="stat-sublabel">With uniform orders</div>
  </div>
</div>

<!-- Upcoming Deductions Alert -->
<div class="card mb-lg" id="upcomingDeductionsCard" style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border: none;">
  <div class="card-body" style="padding: 16px 20px;">
    <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px;">
      <div style="display: flex; align-items: center; gap: 12px;">
        <span class="material-icons-round" style="font-size: 32px; color: #D97706;">event_upcoming</span>
        <div>
          <div style="font-weight: 700; color: #92400E; font-size: 16px;">Upcoming Deductions</div>
          <div id="upcomingDeductionsText" style="color: #B45309; font-size: 14px;">Loading...</div>
        </div>
      </div>
      <button class="btn btn-primary" onclick="navigateTo('payroll-processing')" style="background: #D97706; border-color: #D97706;">
        <span class="material-icons-round" style="font-size: 18px;">payments</span>
        Process Payroll
      </button>
    </div>
  </div>
</div>

<!-- Two Column Layout -->
<div class="uniform-summary-columns">
  <!-- Left: By Category -->
  <div class="card">
    <div class="card-header">
      <span class="material-icons-round" style="color: var(--cfa-red);">category</span>
      <span style="font-weight: 600;">Revenue by Category</span>
    </div>
    <div class="card-body" id="byCategoryContent">
      <div class="empty-state" style="padding: 40px;">
        <span class="material-icons-round" style="font-size: 48px; color: var(--gray-300);">hourglass_empty</span>
        <p style="color: var(--gray-500);">Loading...</p>
      </div>
    </div>
  </div>
  
  <!-- Right: Top Items -->
  <div class="card">
    <div class="card-header">
      <span class="material-icons-round" style="color: var(--cfa-red);">star</span>
      <span style="font-weight: 600;">Most Ordered Items</span>
    </div>
    <div class="card-body" id="topItemsContent">
      <div class="empty-state" style="padding: 40px;">
        <span class="material-icons-round" style="font-size: 48px; color: var(--gray-300);">hourglass_empty</span>
        <p style="color: var(--gray-500);">Loading...</p>
      </div>
    </div>
  </div>
</div>

<!-- By Location -->
<div class="card mb-lg">
  <div class="card-header">
    <span class="material-icons-round" style="color: var(--cfa-red);">location_on</span>
    <span style="font-weight: 600;">Orders by Location</span>
  </div>
  <div class="card-body" id="byLocationContent">
    <div class="empty-state" style="padding: 40px;">
      <span class="material-icons-round" style="font-size: 48px; color: var(--gray-300);">hourglass_empty</span>
      <p style="color: var(--gray-500);">Loading...</p>
    </div>
  </div>
</div>

<!-- Recent Orders -->
<div class="card">
  <div class="card-header">
    <span class="material-icons-round" style="color: var(--cfa-red);">history</span>
    <span style="font-weight: 600;">Recent Orders</span>
    <button class="btn btn-outline btn-sm" onclick="navigateTo('uniforms-orders')" style="margin-left: auto;">
      View All Orders
    </button>
  </div>
  <div class="card-body">
    <div class="table-wrapper">
      <table class="data-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Order ID</th>
            <th>Employee</th>
            <th>Location</th>
            <th class="numeric">Amount</th>
            <th>Progress</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="recentOrdersBody">
          <tr><td colspan="7"><div class="empty-state small"><span class="material-icons-round">hourglass_empty</span><p>Loading...</p></div></td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
/* Uniform Stats Grid */
.uniform-stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin-bottom: 24px;
}

.uniform-stat-card {
  background: white;
  border: 1px solid var(--gray-200);
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  transition: all 0.2s;
}

.uniform-stat-card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  transform: translateY(-2px);
}

.uniform-stat-card .stat-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 12px;
}

.uniform-stat-card .stat-icon .material-icons-round {
  font-size: 24px;
}

.uniform-stat-card .stat-icon.blue { background: #DBEAFE; color: #2563EB; }
.uniform-stat-card .stat-icon.green { background: #D1FAE5; color: #059669; }
.uniform-stat-card .stat-icon.orange { background: #FEF3C7; color: #D97706; }
.uniform-stat-card .stat-icon.purple { background: #EDE9FE; color: #7C3AED; }

.uniform-stat-card .stat-value {
  font-size: 2rem;
  font-weight: 700;
  color: var(--gray-800);
  line-height: 1.2;
}

.uniform-stat-card .stat-label {
  font-size: 14px;
  font-weight: 500;
  color: var(--gray-600);
  margin-top: 4px;
}

.uniform-stat-card .stat-sublabel {
  font-size: 12px;
  color: var(--gray-500);
  margin-top: 2px;
}

/* Summary Columns */
.uniform-summary-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 24px;
}

/* Category List */
.category-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid var(--gray-100);
}

.category-item:last-child {
  border-bottom: none;
}

.category-name {
  font-weight: 600;
  color: var(--gray-800);
  font-size: 14px;
}

.category-count {
  font-size: 12px;
  color: var(--gray-500);
  margin-top: 2px;
}

.category-revenue {
  font-size: 16px;
  font-weight: 700;
  color: var(--cfa-red);
}

/* Top Items List */
.top-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid var(--gray-100);
}

.top-item:last-child {
  border-bottom: none;
}

.item-rank {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--gray-100);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 700;
  color: var(--gray-600);
  flex-shrink: 0;
}

.top-item:nth-child(1) .item-rank {
  background: #FEF3C7;
  color: #D97706;
}

.top-item:nth-child(2) .item-rank {
  background: #E5E7EB;
  color: #6B7280;
}

.top-item:nth-child(3) .item-rank {
  background: #FED7AA;
  color: #C2410C;
}

.item-info {
  flex: 1;
}

.item-name {
  font-weight: 600;
  color: var(--gray-800);
  font-size: 14px;
}

.item-category {
  font-size: 11px;
  color: var(--gray-500);
}

.item-quantity {
  font-size: 14px;
  font-weight: 700;
  color: var(--gray-700);
}

/* Location Grid */
.location-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.location-card {
  background: var(--gray-50);
  border-radius: 10px;
  padding: 16px;
  text-align: center;
}

.location-card-name {
  font-weight: 600;
  color: var(--gray-800);
  font-size: 14px;
  margin-bottom: 8px;
}

.location-card-stat {
  display: flex;
  justify-content: space-around;
  margin-top: 8px;
}

.location-card-stat div {
  text-align: center;
}

.location-stat-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--cfa-red);
}

.location-stat-label {
  font-size: 11px;
  color: var(--gray-500);
}

/* Status Badge */
.order-status-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
}

.order-status-badge.active {
  background: #DBEAFE;
  color: #2563EB;
}

.order-status-badge.completed {
  background: #D1FAE5;
  color: #059669;
}

.order-status-badge.cancelled {
  background: #FEE2E2;
  color: #DC2626;
}

/* Responsive */
@media (max-width: 1024px) {
  .uniform-stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .uniform-summary-columns {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 600px) {
  .uniform-stats-grid {
    grid-template-columns: 1fr;
  }
}
</style>

